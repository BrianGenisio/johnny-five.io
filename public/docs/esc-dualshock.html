<h1>Esc Dualshock</h1>
<p>Run with:</p>
<pre><code class="language-bash">node src/j5/eg/esc-dualshock.js
</code></pre>
<pre><code class="language-javascript">var five = require(&quot;johnny-five&quot;);
var dualShock = require(&quot;dualshock-controller&quot;);

var board = new five.Board();
var controller = dualShock({
  config: &quot;dualShock3&quot;,
  analogStickSmoothing: false
});

function scale(x, fromLow, fromHigh, toLow, toHigh) {
  return (x - fromLow) * (toHigh - toLow) /
    (fromHigh - fromLow) + toLow;
}

board.on(&quot;ready&quot;, function() {

  var esc = new five.ESC(12);

  controller.on(&quot;connected&quot;, function() {
    controller.isConnected = true;
  });

  controller.on(&quot;dpadUp:press&quot;, function() {
    var speed = esc.last ? esc.speed : 0;
    speed += 0.01;
    esc.to(speed);
  });

  controller.on(&quot;dpadDown:press&quot;, function() {
    var speed = esc.last ? esc.speed : 0;
    speed -= 0.01;
    esc.to(speed);
  });

  controller.on(&quot;circle:press&quot;, function() {
    esc.stop();
  });

  controller.on(&quot;right:move&quot;, function(position) {
    var y = scale(position.y, 255, 0, 0, 180) | 0;

    if (y &gt; 100) {
      // from the deadzone and up
      esc.to(scale(y, 100, 180, 0, 1));
    }
  });

  controller.connect();
});


// Brushless motor breadboard diagram originally published here:
// http://robotic-controls.com/learn/projects/dji-esc-and-brushless-motor

</code></pre>
<h2>License</h2>
<p>Copyright (c) 2012-2013 Rick Waldron <a href="mailto:waldron.rick@gmail.com">waldron.rick@gmail.com</a>
Licensed under the MIT license.
Copyright (c) 2014 The Johnny-Five Contributors
Licensed under the MIT license.</p>
